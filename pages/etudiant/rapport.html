<!-- Contenu de pages/etudiant/rapport.php, mais en .html -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Rapport - GestionMySoutenance</title>
    <link href="/assets/css/main.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="/assets/js/main.js" type="module" defer></script>
    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
</head>
<body>
<div class="app-wrapper">
    <aside class="sidebar">
        <div class="sidebar-header"><div class="logo">GestionMySoutenance</div></div>
        <nav class="sidebar-nav"><ul id="sidebar-menu" class="nav-list"></ul></nav>
        <div class="user-section">
            <div class="user-info">
                <img id="user-avatar-display" src="" alt="Avatar" class="user-avatar">
                <div class="user-details">
                    <div id="user-login-display" class="username">...</div>
                    <div id="user-role-display" class="user-role">...</div>
                </div>
                <button id="logout-btn" class="user-menu-btn"><i class="fas fa-sign-out-alt"></i></button>
            </div>
        </div>
    </aside>
    <main id="main-content-area" class="main-content-area">
        <div id="global-flash-messages" class="flash-message-container"></div>
        <h1 class="page-title">Rédaction de mon Rapport</h1>
        <div id="model-selection-section" class="card hidden">
            <div class="card-header"><h2 class="card-title">Choisir un Modèle</h2></div>
            <div class="card-body">
                <div id="model-list-container" class="model-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;"></div>
                <div class="form-action-buttons mt-4"><button type="button" class="btn btn-secondary" id="create-blank-report-btn">Page Blanche</button></div>
            </div>
        </div>
        <div id="report-editor-section" class="card hidden">
            <div class="card-header"><h2 class="card-title">Éditeur</h2></div>
            <div class="card-body">
                <form id="report-form">
                    <input type="hidden" id="report-id-hidden" name="id_rapport_etudiant">
                    <div class="form-group"><label for="report-title-input">Titre</label><input type="text" id="report-title-input" name="libelle_rapport_etudiant" required></div>
                    <div class="form-group"><label for="report-theme-input">Thème</label><input type="text" id="report-theme-input" name="theme" required></div>
                    <div class="form-group"><label for="report-resume-editor">Résumé</label><textarea id="report-resume-editor" name="resume"></textarea></div>
                    <div id="report-sections-container"></div>
                    <div class="form-action-buttons mt-6"><button type="button" class="btn btn-secondary" id="save-draft-btn"><span class="btn-text">Sauvegarder</span><span class="loading-spinner"></span></button><button type="submit" class="btn btn-primary" id="submit-report-btn"><span class="btn-text">Soumettre</span><span class="loading-spinner"></span></button></div>
                </form>
            </div>
        </div>
        <template id="model-card-template"><div class="model-card" style="border: 1px solid #ccc; padding: 1rem; border-radius: 0.5rem;"><h3 class="model-card-title"></h3><p class="model-card-description"></p><div class="model-card-footer"><span class="model-card-version"></span><button class="btn btn-sm btn-primary select-model-btn">Sélectionner</button></div></div></template>
        <template id="report-section-template"><div class="report-section-item mt-4"><h3 class="section-title" style="font-size: 1.2rem; font-weight: bold; margin-bottom: 0.5rem;"></h3><textarea class="tinymce-editor"></textarea></div></template>
    </main>
</div>
</body>
</html>